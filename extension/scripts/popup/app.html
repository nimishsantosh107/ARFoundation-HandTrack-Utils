<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>ARInteract</title>
</head>
<body>
	<h3>ARInteract</h3>
	<button id="testButton">TEST</button>
	<script type="text/javascript">
		function handleInteraction(thisbrowser) {
			testButton.addEventListener('click', function () {
				thisbrowser.tabs.query({ currentWindow: true, active: true },
					function (tabs) {
						thisbrowser.tabs.sendMessage(tabs[0].id, { popupmessage: "TEST WORKS" });
					}
				);
			}, false);
		}

		document.addEventListener('DOMContentLoaded', function () {
			if (chrome) { handleInteraction(chrome); }
			else { handleInteraction(browser); }
		}, false);
	</script>
</body>
</html>